http:
  services:
    ha-server:
      loadBalancer:
        servers:
          - url: "http://192.168.88.104:8123/"
    nr-server:
      loadBalancer:
        servers:
          - url: "http://192.168.88.104:1880/"
    hb-server:
      loadBalancer:
        servers:
          - url: "http://192.168.88.104:8581/"

  routers:
    ha:
      rule: "Host(`ha.imposibrus.space`)"
      service: ha-server
    ha-tls:
      rule: "Host(`ha.imposibrus.space`)"
      service: ha-server
      tls:
        certResolver: default

    nr:
      rule: "Host(`nr.imposibrus.space`)"
      service: nr-server
    nr-tls:
      rule: "Host(`nr.imposibrus.space`)"
      service: nr-server
      tls:
        certResolver: default

    hb:
      rule: "Host(`hb.imposibrus.space`)"
      service: hb-server
    hb-tls:
      rule: "Host(`hb.imposibrus.space`)"
      service: hb-server
      tls:
        certResolver: default


tcp:
  services:
    mqtt-server:
      loadBalancer:
        servers:
          - address: "192.168.88.104:1883"

  routers:
    mqtt-tls:
      rule: "HostSNI(`mqtt.home.imposibrus.space`)"
      service: mqtt-server
      tls:
        certResolver: default


